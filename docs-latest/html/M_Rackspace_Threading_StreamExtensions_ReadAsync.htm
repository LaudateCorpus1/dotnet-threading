<!DOCTYPE html >
<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <link rel="shortcut icon" href="../icons/favicon.ico">
    <link rel="stylesheet" type="text/css" href="../styles/branding.css">
    <link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css"><script type="text/javascript" src="../scripts/branding.js"> </script><title>StreamExtensions.ReadAsync Method (Stream, Byte[], Int32, Int32)</title><meta name="Language" content="en-us">
        <meta name="Microsoft.Help.Id" content="M:Rackspace.Threading.StreamExtensions.ReadAsync(System.IO.Stream,System.Byte[],System.Int32,System.Int32)">
        <meta name="Description" content="Asynchronously reads a sequence of bytes from a stream and advances the position within the stream by the number of bytes read.">
        <meta name="Microsoft.Help.ContentType" content="Reference">
        <meta name="BrandingAware" content="true"><meta name="container" content="Rackspace.Threading">
          <meta name="file" content="M_Rackspace_Threading_StreamExtensions_ReadAsync">
          <meta name="guid" content="M_Rackspace_Threading_StreamExtensions_ReadAsync">
          
          <link rel="stylesheet" type="text/css" href="../styles/branding-Website.css"><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle"><div class="pageHeader" id="PageHeader">Threading API Reference<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody">
                    <div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!"></a><a data-tochassubtree="true" href="50d028db-e522-4750-91a6-4ae6c97c2610.htm" title="Threading API Reference" tocid="roottoc">Threading API Reference</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!"></a><a data-tochassubtree="true" href="R_Project_Threading_API_Reference.htm" title="API Reference" tocid="R_Project_Threading_API_Reference">API Reference</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!"></a><a data-tochassubtree="true" href="N_Rackspace_Threading.htm" title="Rackspace.Threading" tocid="N_Rackspace_Threading">Rackspace.Threading</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!"></a><a data-tochassubtree="true" href="T_Rackspace_Threading_StreamExtensions.htm" title="StreamExtensions Class" tocid="T_Rackspace_Threading_StreamExtensions">StreamExtensions Class</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!"></a><a data-tochassubtree="true" href="Methods_T_Rackspace_Threading_StreamExtensions.htm" title="StreamExtensions Methods" tocid="Methods_T_Rackspace_Threading_StreamExtensions">StreamExtensions Methods</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!"></a><a data-tochassubtree="true" href="Overload_Rackspace_Threading_StreamExtensions_ReadAsync.htm" title="ReadAsync Method " tocid="Overload_Rackspace_Threading_StreamExtensions_ReadAsync">ReadAsync Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="M_Rackspace_Threading_StreamExtensions_ReadAsync.htm" title="ReadAsync Method (Stream, Byte[], Int32, Int32)" tocid="M_Rackspace_Threading_StreamExtensions_ReadAsync">ReadAsync Method (Stream, Byte[], Int32, Int32)</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="M_Rackspace_Threading_StreamExtensions_ReadAsync_1.htm" title="ReadAsync Method (Stream, Byte[], Int32, Int32, CancellationToken)" tocid="M_Rackspace_Threading_StreamExtensions_ReadAsync_1">ReadAsync Method (Stream, Byte[], Int32, Int32, CancellationToken)</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize"><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize"></div></div><div class="topicContent" id="TopicContent">
                      <table class="titleTable">
                        <tr>
                          <td class="titleColumn">StreamExtensions<span id="LSTD275A306_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_0?cpp=::|nu=.");</script>ReadAsync Method (Stream, <span id="LSTD275A306_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_1?cpp=array<");</script>Byte<span id="LSTD275A306_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_2?cpp=>|vb=()|nu=[]");</script>, Int32, Int32)</td></tr></table><span class="introStyle"></span><div class="summary">
            Asynchronously reads a sequence of bytes from a stream and advances the position within the stream by the number of bytes read.
            </div><p> </p><strong>Namespace:</strong> <a href="N_Rackspace_Threading.htm">Rackspace.Threading</a><br><strong>Assembly:</strong> Rackspace.Threading (in Rackspace.Threading.dll) Version: 2.1.0-beta1<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png">Syntax</span></div><div id="ID1RBSection" class="collapsibleSection">
                                                          <div class="codeSnippetContainer">
                                                            <div class="codeSnippetContainerTabs">
                                                              <div id="ID0EDCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cs','1','4');return false;">C#</a></div><div id="ID0EDCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','vb','2','4');return false;">VB</a></div><div id="ID0EDCA_tab3" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cpp','3','4');return false;">C++</a></div><div id="ID0EDCA_tab4" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','fs','4','4');return false;">F#</a></div></div><div class="codeSnippetContainerCodeContainer">
                                                                                <div class="codeSnippetToolBar">
                                                                                  <div class="codeSnippetToolBarText"><a id="ID0EDCA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EDCA_code_Div1" class="codeSnippetContainerCode" style="display: block">
                                                                                        <pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">static</span> <span class="identifier">Task</span>&lt;<span class="identifier">int</span>&gt; <span class="identifier">ReadAsync</span>(
	<span class="keyword">this</span> <span class="identifier">Stream</span> <span class="parameter">stream</span>,
	<span class="identifier">byte</span>[] <span class="parameter">buffer</span>,
	<span class="identifier">int</span> <span class="parameter">offset</span>,
	<span class="identifier">int</span> <span class="parameter">count</span>
)</pre></div><div id="ID0EDCA_code_Div2" class="codeSnippetContainerCode" style="display: none">
                                                                                                                        <pre xml:space="preserve">&lt;<span class="identifier">ExtensionAttribute</span>&gt;
<span class="keyword">Public</span> <span class="keyword">Shared</span> <span class="keyword">Function</span> <span class="identifier">ReadAsync</span> ( 
	<span class="parameter">stream</span> <span class="keyword">As</span> <span class="identifier">Stream</span>,
	<span class="parameter">buffer</span> <span class="keyword">As</span> <span class="identifier">Byte</span>(),
	<span class="parameter">offset</span> <span class="keyword">As</span> <span class="identifier">Integer</span>,
	<span class="parameter">count</span> <span class="keyword">As</span> <span class="identifier">Integer</span>
) <span class="keyword">As</span> <span class="identifier">Task</span>(<span class="keyword">Of</span> <span class="identifier">Integer</span>)</pre></div><div id="ID0EDCA_code_Div3" class="codeSnippetContainerCode" style="display: none">
                                                                                                                                                                      <pre xml:space="preserve"><span class="keyword">public</span>:
[<span class="identifier">ExtensionAttribute</span>]
<span class="keyword">static</span> <span class="identifier">Task</span>&lt;<span class="identifier">int</span>&gt;^ <span class="identifier">ReadAsync</span>(
	<span class="identifier">Stream</span>^ <span class="parameter">stream</span>, 
	<span class="keyword">array</span>&lt;<span class="identifier">unsigned char</span>&gt;^ <span class="parameter">buffer</span>, 
	<span class="identifier">int</span> <span class="parameter">offset</span>, 
	<span class="identifier">int</span> <span class="parameter">count</span>
)</pre></div><div id="ID0EDCA_code_Div4" class="codeSnippetContainerCode" style="display: none">
                                                                                                                                                                                                        <pre xml:space="preserve">[&lt;<span class="identifier">ExtensionAttribute</span>&gt;]
<span class="keyword">static</span> <span class="keyword">member</span> <span class="identifier">ReadAsync</span> : 
        <span class="parameter">stream</span> : <span class="identifier">Stream</span> * 
        <span class="parameter">buffer</span> : <span class="identifier">byte</span>[] * 
        <span class="parameter">offset</span> : <span class="identifier">int</span> * 
        <span class="parameter">count</span> : <span class="identifier">int</span> <span class="keyword">-&gt;</span> <span class="identifier">Task</span>&lt;<span class="identifier">int</span>&gt; 
</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EDCA");</script><h4 class="subHeading">Parameters</h4><dl>
                                                                                                                                                                                                                                              <dt><span class="parameter">stream</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/8f86tw9e" target="_blank">System.IO<span id="LSTD275A306_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Stream</a><br>The stream to read data from.</dd><dt><span class="parameter">buffer</span></dt><dd>Type: <span id="LSTD275A306_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_4?cpp=array<");</script><a href="http://msdn2.microsoft.com/en-us/library/yyb1w04y" target="_blank">System<span id="LSTD275A306_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_5?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Byte</a><span id="LSTD275A306_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_6?cpp=>|vb=()|nu=[]");</script><br>The buffer to write the data into.</dd><dt><span class="parameter">offset</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">System<span id="LSTD275A306_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_7?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Int32</a><br>The byte offset in <span class="parameter">buffer</span> at which to begin writing data from the stream.</dd><dt><span class="parameter">count</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">System<span id="LSTD275A306_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_8?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Int32</a><br>The maximum number of bytes to read.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="http://msdn2.microsoft.com/en-us/library/dd321424" target="_blank">Task</a><span id="LSTD275A306_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_9?cs=<|vb=(Of |cpp=<|fs=<'|nu=(");</script><a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">Int32</a><span id="LSTD275A306_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_10?cs=>|vb=)|cpp=>|fs=>|nu=)");</script><br>
            A task that represents the asynchronous read operation. When the task completes successfully, the <a href="http://msdn2.microsoft.com/en-us/library/dd321468" target="_blank">Result</a>
            property contains the total number of bytes read into the buffer. The result value can be less than the number of bytes requested if
            the number of bytes currently available is less than the requested number, or it can be 0 (zero) if the end of the stream has been reached.
            <h4 class="subHeading">Usage Note</h4>In Visual Basic and C#, you can call this method as an instance method on any object of type <a href="http://msdn2.microsoft.com/en-us/library/8f86tw9e" target="_blank">Stream</a>. When you use instance method syntax to call this method, omit the first parameter. For more information, see <a href="http://msdn.microsoft.com/en-us/library/bb384936.aspx" target="_blank">Extension Methods (Visual Basic)</a> or <a href="http://msdn.microsoft.com/en-us/library/bb383977.aspx" target="_blank">Extension Methods (C# Programming Guide)</a>.</div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png">Exceptions</span></div><div id="ID2RBSection" class="collapsibleSection">
                                                                                                                                                                                                                                                                                                                                      <div class="tableSection">
                                                                                                                                                                                                                                                                                                                                        <table>
                                                                                                                                                                                                                                                                                                                                          <tr>
                                                                                                                                                                                                                                                                                                                                            <th>Exception</th><th>Condition</th></tr><tr>
                                                                                                                                                                                                                                                                                                                                                  <td><a href="http://msdn2.microsoft.com/en-us/library/27426hcy" target="_blank">ArgumentNullException</a></td><td>
                                                                                                                                                                                                                                                                                                                                                        <p>If <span class="parameter">stream</span> is <span class="keyword"><span id="LSTD275A306_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_11?vb=Nothing|cpp=nullptr|nu=null");</script></span>.</p><p>-or-</p><p>If <span class="parameter">buffer</span> is <span class="keyword"><span id="LSTD275A306_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD275A306_12?vb=Nothing|cpp=nullptr|nu=null");</script></span>.</p></td></tr><tr>
                                                                                                                                                                                                                                                                                                                                                                                <td><a href="http://msdn2.microsoft.com/en-us/library/8xt94y6e" target="_blank">ArgumentOutOfRangeException</a></td><td>
                                                                                                                                                                                                                                                                                                                                                                                      <p>If <span class="parameter">offset</span> is negative.</p><p>-or-</p><p>If <span class="parameter">count</span> is negative.</p></td></tr><tr>
                                                                                                                                                                                                                                                                                                                                                                                                  <td><a href="http://msdn2.microsoft.com/en-us/library/3w1b3114" target="_blank">ArgumentException</a></td><td>
                                                                                                                                                                                                                                                                                                                                                                                                        <p>If the sum of <span class="parameter">offset</span> and <span class="parameter">count</span> is larger than the buffer length.</p></td></tr><tr>
                                                                                                                                                                                                                                                                                                                                                                                                                <td><a href="http://msdn2.microsoft.com/en-us/library/8a7a4e64" target="_blank">NotSupportedException</a></td><td>
                                                                                                                                                                                                                                                                                                                                                                                                                      <p>If <span class="parameter">stream</span> does not support reading.</p></td></tr><tr>
                                                                                                                                                                                                                                                                                                                                                                                                                            <td><a href="http://msdn2.microsoft.com/en-us/library/y31w16ca" target="_blank">ObjectDisposedException</a></td><td>
                                                                                                                                                                                                                                                                                                                                                                                                                                  <p>If <span class="parameter">stream</span> has been disposed.</p></td></tr><tr>
                                                                                                                                                                                                                                                                                                                                                                                                                                        <td><a href="http://msdn2.microsoft.com/en-us/library/2asft85a" target="_blank">InvalidOperationException</a></td><td>
                                                                                                                                                                                                                                                                                                                                                                                                                                              <p>If <span class="parameter">stream</span> is currently in use by a previous read operation.</p></td></tr></table></div></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png">Remarks</span></div><div id="ID3RBSection" class="collapsibleSection">
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <p>Use the <a href="http://msdn2.microsoft.com/en-us/library/0cde30tt" target="_blank">CanRead</a> property to determine whether the stream instance supports
            reading.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png">Version Information</span></div><div id="ID4RBSection" class="collapsibleSection">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <h4 class="subHeading">.NET for Windows Store apps</h4>Supported in: Windows 8<br><h4 class="subHeading">.NET Framework</h4>Supported in: 4.5, 4.0, 3.5<br><h4 class="subHeading">Portable Class Library</h4>Supported in: Portable Class Library (Legacy), Portable Class Library<br><h4 class="subHeading">Threading Library</h4>Supported in: 2.1, 2.0, 1.1, 1.0<br></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png">See Also</span></div><div id="ID5RBSection" class="collapsibleSection">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_Rackspace_Threading_StreamExtensions.htm">StreamExtensions Class</a></div><div class="seeAlsoStyle"><a href="Overload_Rackspace_Threading_StreamExtensions_ReadAsync.htm">ReadAsync Overload</a></div><div class="seeAlsoStyle"><a href="N_Rackspace_Threading.htm">Rackspace.Threading Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"><a href="https://github.com/tunnelvisionlabs/dotnet-threading">Threading Library Home</a> </div></body></html>